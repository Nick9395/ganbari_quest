<!-- app/views/users/new.html.erb -->
<div class="center-container">

  <h1><%= t('users.new.title') %></h1>
  <br>
  <%= form_with model: @user, local: true do |f| %>
    <div class='form-group'>
      <%= f.label :name, t('activerecord.attributes.user.name') %>
      <%= f.text_field :name, placeholder: "ニックネームでもOK"  %>
    </div>

    <div class='form-group'>
      <%= f.label :email, t('activerecord.attributes.user.email') %>
      <%= f.email_field :email, placeholder: "てきとうでもOK" %>
    </div>

    <div class='form-group'>
      <%= f.label :password, t('activerecord.attributes.user.password') %>
      <%= f.password_field :password, placeholder: "半角英数 4~12文字" %>
    </div>

    <div class='form-group'>
      <%= f.label :password_confirmation, t('activerecord.attributes.user.password_confirmation') %>
      <%= f.password_field :password_confirmation, placeholder: "かくにんだよ" %>
    </div>
    <br>

    <%= link_to t('users.new.login_link'), login_path, class: 'link-page' %>
    <br><br>

    <%= submit_tag t('users.new.submit'),
      class: 'custom-button-01',
      data: {
        controller: 'delayed-submit',
        action: 'click->delayed-submit#handle',
        delayed_submit_delay_value: 1700
      } %>
    <br>
    <br>

    <%= link_to t('users.new.back'), root_path, class: 'rpg-link' %>
  <% end %>

  <!-- flash[:custom_error]を配列として受け取ってループ表示 -->
  <% if flash[:custom_errors].present? %>
    <div class="red-menu-box">
      <ul class="error-messages">
        <% flash[:custom_errors].each do |msg| %>
          <h4><%= msg %></h4>
        <% end %>
      </ul>
    </div>
  <% end %>
</div>
